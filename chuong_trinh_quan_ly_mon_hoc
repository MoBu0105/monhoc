#include <iostream>
#include <conio.h>
#include <Windows.h>
#include <string>
#include <fstream>
#include <sstream>

using namespace std;

int xd = 5, yd = 1, d = 10, stop;

//Cau truc
struct monhoc {
	char msmh[6];
	char ten[30];
	int stc, lt, th, tuh;
};

//gotoxy
void xy(int x, int y)
{
	COORD td;

	td.X = x;
	td.Y = y;

	SetConsoleCursorPosition(GetStdHandle(STD_OUTPUT_HANDLE), td);
}

//doc file
int readfile(string f, monhoc n[], int& sl)
{
	int i = 0;
	ifstream file(f.c_str());

	if (!file.is_open())
		return 1;

	string line;
	getline(file, line);

	while (getline(file, line))
	{
		stringstream ss(line);

		ss.getline(n[i].msmh, 6, ',');
		ss.getline(n[i].ten, 30, ',');
		ss >> n[i].stc;
		ss >> n[i].lt;
		ss >> n[i].th;
		ss >> n[i].tuh;

		i++;
	}

	sl = i;

	return 0;
}

//menu chinh
string mn[] = {
	"CHUONG TRINH QUAN LY MON HOC",
	"1. In danh sach cac mon hoc",
	"2. Them mon hoc",
	"3. Xoa mon hoc",
	"4. Cap nhat mon hoc",
	"5. Tim kiem mon hoc",
	"6. Xap sep mon hoc",
	"7. Thong ke thong tin",
	"8. Loc mon hoc",
	"9. Thoat chuong trinh"

};

//menu cap nhat
string mn_cn[] = {
	"CAP NHAT THONG TIN",
	"1. Cap nhat MSMN",
	"2. Cap nhat ten mon hoc",
	"3. Cap nhat so tin chi",
	"4. Cap nhat so gio ly thuyet",
	"5. Cap nhat so gio thuc hanh",
	"6. Cap nhat so gio tu hoc",
	"7. Cap nhat tat ca",
	"8. Thoat",
};

//menu tim kiem
string mn_tk[] = {
	"CHON PHUONG PHAP TIM KIEM",
	"1. liner",
	"2. Binary",
	"3. Thoat"
};

//menu tim kiem liner
string mn_tk_ln[] = {
	"CHON TIM KIEM THEO",
	"1. MSMH",
	"2. Ten mon hoc",
	"3. So tin chi",
	"4. So gio ly thuyet",
	"5. So gio thuc hanh",
	"6. So gio tu hoc",
	"7. Thoat"
};

//menu tim kiem binary
string mn_tk_bn[] = {
	"CHON TIM KIEM THEO",
	"1. MSMH",
	"2. Ten mon hoc",
	"3. So tin chi",
	"4. So gio ly thuyet",
	"5. So gio thuc hanh",
	"6. So gio tu hoc",
	"7. Thoat"
};

//menu tim kiem 3
string mn_tk3[] = {
	"CHON PHUONG THUC TIM KIEM",
	"1. Tim lon nhat",
	"2. Tim nho nhat",
	"3. Tim tuy chon",
	"4. Thoat"
};

//menu sx chinh
string mn_sx[] = {
	"CHON PHUONG THUC SAP XEP",
	"1. Buble",
	"2. Skaker",
	"3. Selection",
	"4. Insertion",
	"5. InterChange",
	"6. Thoat"
};

//menu sx 2
string mn_sx2[] = {
	"CHON SAP XEP THEO",
	"1. MSMH",
	"2. Ten mon hoc"
	"3. So tin chi",
	"4. So gio ly thuyet",
	"5. So gio thuc hanh",
	"6. So gio tu hoc",
	"7. Thoat"
};

//menu sx 3
string mn_sx3[] = {
	"CHON LOAI XAP SEP",
	"1. Tang dan",
	"2. Giam dan",
	"3. Thoat"
};

//menu thong ke
string mn_thongke[] = {
	"CHON THONG TIN MUON THONG KE",
	"1. So tin chi",
	"2. So gio ly thuyet",
	"3. So gio thuc hanh",
	"4. So gio tu hoc",
	"5. Thoat"
};

//menu loc 1
string mn_loc1[] = {
	"CHON THONG TIN MUON LOC",
	"1. So tin chi",
	"2. So gio ly thuyet",
	"3. So gio thuc hanh",
	"4. So gio tu hoc",
	"5. Thoat"
};

//menu loc 2
string mn_loc2[] = {
	"CHON CACH THUC LOC",
	"1. Lon hon hoac bang",
	"2. Nho hon hoac bang",
	"3. Thoat"
};

//in menu
void inmn(string m[], int s, int x, int y)
{
	xy(x + 3.755 * d, y);
	cout << m[0];
	y++;
	for (int i = 1; i < s; i++)
	{
		xy(x + 3.755 * d, y);
		cout << m[i];
		y++;
	}
	y++;
	xy(x + 3.75 * d, y);
	cout << "Chon thao tac: ";
}

//in tieu de
void intd(int x, int& y)
{
	xy(x + 4 * d, y);
	cout << endl;
	for (int i = 0; i < 111; i++)
		cout << "-";

	xy(x + 4 * d, y);
	cout << "THONG TIN MON HOC";

	cout << endl;
	for (int i = 0; i < 111; i++)
		cout << "-";
	y += 2;

	xy(x, y);
	cout << "STT";
	xy(x + 0.6 * d, y);
	cout << "MSMH";
	xy(x + 1.5 * d, y);
	cout << "Ten mon hoc";
	xy(x + 3.65 * d, y);
	cout << "So tin chi";
	xy(x + 4.95 * d, y);
	cout << "So gio ly thuyet";
	xy(x + 6.85 * d, y);
	cout << "So gio thuc hanh";
	xy(x + 8.75 * d, y);
	cout << "So gio tu hoc";

	cout << endl;
	for (int i = 0; i < 111; i++)
		cout << "-";
	y += 2;
}

//in 1 mon hoc
void inmh(monhoc m, int x, int& y)
{
	xy(x + 0.6 * d, y);
	cout << m.msmh;
	xy(x + 1.5 * d, y);
	cout << m.ten;
	xy(x + 4.15 * d, y);
	cout << m.stc;
	xy(x + 5.45 * d, y);
	cout << m.lt;
	xy(x + 7.35 * d, y);
	cout << m.th;
	xy(x + 9.25 * d, y);
	cout << m.tuh;
}

//in danh sach
void inds(monhoc m[], int sl, int x, int& y)
{
	y++;
	intd(x, y);
	for (int i = 0; i < sl; i++)
	{
		xy(x, y);
		cout << i + 1;
		inmh(m[i], x, y);
		y++;
	}

	cout << endl;
	for (int i = 0; i < 111; i++)
		cout << "-";

	y = 1;
}

void buble(monhoc[], int, int);

//them mon hoc
void them(monhoc m[], int& sl, int sx)
{
	int vt = 1, trung = 0;
	char yn = 'n';

	do {
		sl++;
		system("cls");
		if (sl == 100)
			cout << "Danh sach da day!";
		else
		{
			if (sx == 0)
			{
				do {
					system("cls");
					if (vt<1 || vt>sl)
						cout << "vi tri khong hop le!\nvui long nhap lai";
					cout << "\n\nchon vi tri muon them: ";
					cin >> vt;
					cin.ignore();
				} while (vt<1 || vt>sl);

				for (int i = sl - 1; i >= vt; i--)
					m[i] = m[i - 1];

				do {
					trung = 0;

					cout << "MSMH: ";
					cin.getline(m[vt - 1].msmh, 6);
					cout << "Ten mon hoc: ";
					cin.getline(m[vt - 1].ten, 30);
					cout << "So tin chi: ";
					cin >> m[vt - 1].stc;
					cout << "So gio ly thuyet: ";
					cin >> m[vt - 1].lt;
					cout << "So gio thuc hanh: ";
					cin >> m[vt - 1].th;
					cout << "So gio tu hoc: ";
					cin >> m[vt - 1].tuh;

					for (int i = 0; i < sl; i++)
					{
						if (vt - 1 == i) continue;
						else if (strcmp(m[vt - 1].msmh, m[i].msmh) == 0 || strcmp(m[vt - 1].ten, m[i].ten) == 0)
							trung = 1;
					}

					if (trung == 1)
					{
						cout << "\nDu lieu da nhap bi trung msmh hoac ten mon hoc!\nVui long nhap lai";
						stop = _getch();
						system("cls");
					}

				} while (trung == 1);
			}
			else
			{
				do {
					trung = 0;

					cout << "MSMH: ";
					cin.getline(m[sl - 1].msmh, 6);
					cout << "Ten mon hoc: ";
					cin.getline(m[sl - 1].ten, 30);
					cout << "So tin chi: ";
					cin >> m[sl - 1].stc;
					cout << "So gio ly thuyet: ";
					cin >> m[sl - 1].lt;
					cout << "So gio thuc hanh: ";
					cin >> m[sl - 1].th;
					cout << "So gio tu hoc: ";
					cin >> m[sl - 1].tuh;
					cin.ignore();

					for (int i = 0; i < sl; i++)
					{
						if (sl - 1 == i) continue;
						else if (strcmp(m[sl - 1].msmh, m[i].msmh) == 0 || strcmp(m[sl - 1].ten, m[i].ten) == 0)
							trung = 1;
					}
					if (trung == 1)
					{
						cout << "\nDu lieu da nhap bi trung msmh hoac ten mon hoc!\nVui long nhap lai";
						stop = _getch();
						system("cls");
					}
				} while (trung == 1);
			}
			cout << "\nCo them tiep khong (Y/N): ";
			cin >> yn;
			cin.ignore();
		}
		if (sx != 0)
		{
			buble(m, sl, sx);
			cout << "\nDa tu dong sap xep!";
		}
	} while (yn == 'y' || yn == 'Y');

	cout << "\nDa them thanh cong! Nhan phim bat ki de quay ve menu chinh";
}

//xoa mon hoc
void xoa(monhoc m[], int& sl)
{
	int vt = 1;
	char yn;

	do {
		do {
			system("cls");
			if (vt<1 || vt>sl)
				cout << "vi tri khong hop le!\nvui long nhap lai";
			cout << "\n\nchon vi tri muon xoa: ";
			cin >> vt;
			cin.ignore();
		} while (vt<1 || vt>sl);

		for (int i = vt - 1; i < sl; i++)
			m[i] = m[i + 1];
		sl--;

		cout << "\nCo xoa tiep khong (Y/N): ";
		cin >> yn;
	} while (yn == 'y' || yn == 'Y');

	cout << "\n Nhan phim bat ki de quay ve menu chinh...";
}

//cap nhat
void cn(monhoc m[], int sl)
{
	int stt = 1, chon;
	char yn = 'n';

	do {
		do {
			system("cls");
			inds(m, sl, xd, yd);
			if (stt<1 || stt>sl)
				cout << "so thu tu khong hop le!\nvui long nhap lai";
			cout << "\n\nchon so thu tu mon hoc muon cap nhat: ";
			cin >> stt;
			cin.ignore();
		} while (stt<1 || stt>sl);

		system("cls");
		inmn(mn_cn, size(mn_cn), xd, yd);
		cin >> chon;
		cin.ignore();

		switch (chon)
		{
		case 1:
			system("cls");
			cout << "\nMSMH moi: ";
			cin.getline(m[stt - 1].msmh, 6);
			stop = _getch();
			break;
		case 2:
			system("cls");
			cout << "\nTen mon hoc moi: ";
			cin.getline(m[stt - 1].ten, 6);
			stop = _getch();
			break;
		case 3:
			system("cls");
			cout << "\nSo tin chi moi: ";
			cin >> m[stt - 1].stc;
			break;
		case 4:
			system("cls");
			cout << "\nSo gio ly thuyet moi: ";
			cin >> m[stt - 1].lt;
			break;
		case 5:
			system("cls");
			cout << "\nSo gio thuc hanh moi: ";
			cin >> m[stt - 1].th;
			break;
		case 6:
			system("cls");
			cout << "\nSo gio tu hoc moi: ";
			cin >> m[stt - 1].tuh;
			break;
		case 7:
			system("cls");
			cout << "\nMSMH moi: ";
			cin.getline(m[stt - 1].msmh, 6);
			cout << "\nTen mon hoc moi: ";
			cin.getline(m[stt - 1].ten, 6);
			cout << "\nSo tin chi moi: ";
			cin >> m[stt - 1].stc;
			cout << "\nSo gio ly thuyet moi: ";
			cin >> m[stt - 1].lt;
			cout << "\nSo gio thuc hanh moi: ";
			cin >> m[stt - 1].th;
			cout << "\nSo gio tu hoc moi: ";
			cin >> m[stt - 1].tuh;
		}
		if (chon != 8)
		{
			cout << "\nDa cap nhat thanh cong co lam tiep khong (Y/N): ";
			cin >> yn;
		}
	} while (yn == 'y' || yn == 'Y');

	cout << "\n\nNhan phim bat ki de quay ve menu chinh...";
}

// tim kiem theo liner
void tk_liner(monhoc m[], int sl, int x, int y)
{
	int chon1, chon2, luu[10], sl2 = 0, tt = 0, so;
	char chu[50];

	do {
		system("cls");
		inmn(mn_tk_ln, size(mn_tk_ln), x, y);
		cin >> chon1;
		cin.ignore();

		switch (chon1)
		{
		case 1:
			system("cls");
			cout << "Nhap MSMH can tim: ";
			cin.getline(chu, 6);
			for (int i = 0; i < sl; i++)
			{
				if (strcmp(m[i].msmh, chu) == 0)
				{
					sl2++;
					luu[sl2 - 1] = i;
					tt = 1;
				}
			}
			if (tt == 1)
			{
				cout << "\nDa tim thay MSNH " << chu << " tai vi tri ";
				for (int i = 0; i < sl2; i++)
					cout << luu[i] + 1 << " ";
				y += 3;
				intd(x, y);
				for (int i = 0; i < sl2; i++)
				{
					xy(x, y);
					cout << luu[i] + 1;
					inmh(m[luu[i]], x, y);
					y++;
				}
				y = 1;
			}
			else
				cout << "Khong tim thay MSMH " << chu << " trong danh sanh!";
			stop = _getch();
			break;

		case 2:
			system("cls");
			cout << "Nhap ten mon hoc can tim: ";
			cin.getline(chu, 10);
			for (int i = 0; i < sl; i++)
			{
				if (strcmp(m[i].ten, chu) == 0)
				{
					sl2++;
					luu[sl2 - 1] = i;
					tt = 1;
				}
			}
			if (tt == 1)
			{
				cout << "\nDa tim thay mon " << chu << " tai vi tri ";
				for (int i = 0; i < sl2; i++)
					cout << luu[i] + 1 << " ";
				y += 3;
				intd(x, y);
				for (int i = 0; i < sl2; i++)
				{
					xy(x, y);
					cout << luu[i] + 1;
					inmh(m[luu[i]], x, y);
					y++;
				}
				y = 1;
			}
			else
				cout << "Khong tim thay mon " << chu << " trong danh sanh!";
			stop = _getch();
			break;

		case 3:
			do {
				system("cls");
				inmn(mn_tk3, size(mn_tk3), xd, yd);
				cin >> chon2;

				switch (chon2)
				{
				case 1:
					system("cls");
					so = m[0].stc;
					for (int i = 0; i < sl; i++)
						if (so < m[i].stc)
							so = m[i].stc;
					for (int i = 0; i < sl; i++)
					{
						if (m[i].stc == so)
						{
							sl2++;
							luu[sl2 - 1] = i;
							tt = 1;
						}
					}

					cout << "\nCo " << sl2 << " mon hoc co so tin chi la cao nhat tai vi tri ";
					for (int i = 0; i < sl2; i++)
						cout << luu[i] + 1 << " ";
					y += 3;
					intd(x, y);
					for (int i = 0; i < sl2; i++)
					{
						xy(x, y);
						cout << luu[i] + 1;
						inmh(m[luu[i]], x, y);
						y++;
					}
					y = 1;
					stop = _getch();
					break;
				case 2:
					system("cls");
					so = m[0].stc;
					for (int i = 0; i < sl; i++)
						if (so > m[i].stc)
							so = m[i].stc;
					for (int i = 0; i < sl; i++)
					{
						if (m[i].stc == so)
						{
							sl2++;
							luu[sl2 - 1] = i;
							tt = 1;
						}
					}
					cout << "\nCo " << sl2 << " mon hoc co so tin chi la thap nhat tai vi tri ";
					for (int i = 0; i < sl2; i++)
						cout << luu[i] + 1 << " ";
					y += 3;
					intd(x, y);
					for (int i = 0; i < sl2; i++)
					{
						xy(x, y);
						cout << luu[i] + 1;
						inmh(m[luu[i]], x, y);
						y++;
					}
					y = 1;
					stop = _getch();
					break;
				case 3:
					system("cls");
					cout << "Nhap so tin chi can tim: ";
					cin >> so;
					cin.ignore();
					for (int i = 0; i < sl; i++)
					{
						if (m[i].stc == so)
						{
							sl2++;
							luu[sl2 - 1] = i;
							tt = 1;
						}
					}
					if (tt == 1)
					{
						cout << "\nCo " << sl2 << " mon hoc co so tin chi la " << so << " tai vi tri ";
						for (int i = 0; i < sl2; i++)
							cout << luu[i] + 1 << " ";
						y += 3;
						intd(x, y);
						for (int i = 0; i < sl2; i++)
						{
							xy(x, y);
							cout << luu[i] + 1;
							inmh(m[luu[i]], x, y);
							y++;
						}
						y = 1;
					}
					else
						cout << "Khong tim thay mon hoc co so tin chi la " << so << " trong danh sanh!";
					stop = _getch();
				}
				sl2 = 0;
			} while (chon2 != 4);
			break;
		case 4:
			do {
				system("cls");
				inmn(mn_tk3, size(mn_tk3), xd, yd);
				cin >> chon2;

				switch (chon2)
				{
				case 1:
					system("cls");
					so = m[0].lt;
					for (int i = 0; i < sl; i++)
						if (so < m[i].lt)
							so = m[i].lt;
					for (int i = 0; i < sl; i++)
					{
						if (m[i].lt == so)
						{
							sl2++;
							luu[sl2 - 1] = i;
							tt = 1;
						}
					}

					cout << "\nCo " << sl2 << " mon hoc co so gio ly thuyet cao nhat tai vi tri ";
					for (int i = 0; i < sl2; i++)
						cout << luu[i] + 1 << " ";
					y += 3;
					intd(x, y);
					for (int i = 0; i < sl2; i++)
					{
						xy(x, y);
						cout << luu[i] + 1;
						inmh(m[luu[i]], x, y);
						y++;
					}
					y = 1;
					stop = _getch();
					break;
				case 2:
					system("cls");
					so = m[0].lt;
					for (int i = 0; i < sl; i++)
						if (so > m[i].lt)
							so = m[i].lt;
					for (int i = 0; i < sl; i++)
					{
						if (m[i].lt == so)
						{
							sl2++;
							luu[sl2 - 1] = i;
							tt = 1;
						}
					}

					cout << "\nCo " << sl2 << " mon hoc co so gio ly thuyet thap nhat tai vi tri ";
					for (int i = 0; i < sl2; i++)
						cout << luu[i] + 1 << " ";
					y += 3;
					intd(x, y);
					for (int i = 0; i < sl2; i++)
					{
						xy(x, y);
						cout << luu[i] + 1;
						inmh(m[luu[i]], x, y);
						y++;
					}
					y = 1;
					stop = _getch();
					break;
				case 3:
					system("cls");
					cout << "Nhap so gio ly thuyet can tim: ";
					cin >> so;
					cin.ignore();
					for (int i = 0; i < sl; i++)
					{
						if (m[i].lt == so)
						{
							sl2++;
							luu[sl2 - 1] = i;
							tt = 1;
						}
					}
					if (tt == 1)
					{
						cout << "\nCo " << sl2 << " mon hoc co so gio ly thuyet la " << so << " tai vi tri ";
						for (int i = 0; i < sl2; i++)
							cout << luu[i] + 1 << " ";
						y += 3;
						intd(x, y);
						for (int i = 0; i < sl2; i++)
						{
							xy(x, y);
							cout << luu[i] + 1;
							inmh(m[luu[i]], x, y);
							y++;
						}
						y = 1;
						stop = _getch();
					}
					else
						cout << "Khong tim thay mon hoc co so gio ly thuyet la " << so << " trong danh sanh!";
					stop = _getch();
				}
				sl2 = 0;
			} while (chon2 != 4);
			break;
		case 5:
			do {
				system("cls");
				inmn(mn_tk3, size(mn_tk3), xd, yd);
				cin >> chon2;

				switch (chon2)
				{
				case 1:
					system("cls");
					so = m[0].th;
					for (int i = 0; i < sl; i++)
						if (so < m[i].th)
							so = m[i].th;
					for (int i = 0; i < sl; i++)
					{
						if (m[i].th == so)
						{
							sl2++;
							luu[sl2 - 1] = i;
							tt = 1;
						}
					}

					cout << "\nCo " << sl2 << " mon hoc co so gio thuc hanh cao nhat tai vi tri ";
					for (int i = 0; i < sl2; i++)
						cout << luu[i] + 1 << " ";
					y += 3;
					intd(x, y);
					for (int i = 0; i < sl2; i++)
					{
						xy(x, y);
						cout << luu[i] + 1;
						inmh(m[luu[i]], x, y);
						y++;
					}
					y = 1;
					stop = _getch();
					break;
				case 2:
					system("cls");
					so = m[0].lt;
					for (int i = 0; i < sl; i++)
						if (so > m[i].th)
							so = m[i].th;
					for (int i = 0; i < sl; i++)
					{
						if (m[i].th == so)
						{
							sl2++;
							luu[sl2 - 1] = i;
							tt = 1;
						}
					}

					cout << "\nCo " << sl2 << " mon hoc co so gio thu hanh thap nhat tai vi tri ";
					for (int i = 0; i < sl2; i++)
						cout << luu[i] + 1 << " ";
					y += 3;
					intd(x, y);
					for (int i = 0; i < sl2; i++)
					{
						xy(x, y);
						cout << luu[i] + 1;
						inmh(m[luu[i]], x, y);
						y++;
					}
					y = 1;
					stop = _getch();
					break;
				case 3:
					system("cls");
					cout << "Nhap so gio thuc hanh can tim: ";
					cin >> so;
					cin.ignore();
					for (int i = 0; i < sl; i++)
					{
						if (m[i].th == so)
						{
							sl2++;
							luu[sl2 - 1] = i;
							tt = 1;
						}
					}
					if (tt == 1)
					{
						cout << "\nCo " << sl2 << " mon hoc co so gio thuc hanh la " << so << " tai vi tri ";
						for (int i = 0; i < sl2; i++)
							cout << luu[i] + 1 << " ";
						y += 3;
						intd(x, y);
						for (int i = 0; i < sl2; i++)
						{
							xy(x, y);
							cout << luu[i] + 1;
							inmh(m[luu[i]], x, y);
							y++;
						}
						y = 1;
					}
					else
						cout << "Khong tim thay mon hoc co so gio thuc hanh la " << so << " trong danh sanh!";
					stop = _getch();
				}
				sl2 = 0;
			} while (chon2 != 4);
			break;
		case 6:
			do {
				system("cls");
				inmn(mn_tk3, size(mn_tk3), xd, yd);
				cin >> chon2;

				switch (chon2)
				{
				case 1:
					system("cls");
					so = m[0].tuh;
					for (int i = 0; i < sl; i++)
						if (so < m[i].tuh)
							so = m[i].tuh;
					for (int i = 0; i < sl; i++)
					{
						if (m[i].tuh == so)
						{
							sl2++;
							luu[sl2 - 1] = i;
							tt = 1;
						}
					}

					cout << "\nCo " << sl2 << " mon hoc co so gio tu hoc cao nhat tai vi tri ";
					for (int i = 0; i < sl2; i++)
						cout << luu[i] + 1 << " ";
					y += 3;
					intd(x, y);
					for (int i = 0; i < sl2; i++)
					{
						xy(x, y);
						cout << luu[i] + 1;
						inmh(m[luu[i]], x, y);
						y++;
					}
					y = 1;
					stop = _getch();
					break;
				case 2:
					system("cls");
					so = m[0].lt;
					for (int i = 0; i < sl; i++)
						if (so > m[i].tuh)
							so = m[i].tuh;
					for (int i = 0; i < sl; i++)
					{
						if (m[i].tuh == so)
						{
							sl2++;
							luu[sl2 - 1] = i;
							tt = 1;
						}
					}

					cout << "\nCo " << sl2 << " mon hoc co so gio tu hoc thap nhat tai vi tri ";
					for (int i = 0; i < sl2; i++)
						cout << luu[i] + 1 << " ";
					y += 3;
					intd(x, y);
					for (int i = 0; i < sl2; i++)
					{
						xy(x, y);
						cout << luu[i] + 1;
						inmh(m[luu[i]], x, y);
						y++;
					}
					y = 1;
					stop = _getch();
					break;
				case 3:
					system("cls");
					cout << "Nhap so gio thuc hanh can tim: ";
					cin >> so;
					cin.ignore();
					for (int i = 0; i < sl; i++)
					{
						if (m[i].tuh == so)
						{
							sl2++;
							luu[sl2 - 1] = i;
							tt = 1;
						}
					}
					if (tt == 1)
					{
						cout << "\nCo " << sl2 << " mon hoc co so gio tu hoc la " << so << " tai vi tri ";
						for (int i = 0; i < sl2; i++)
							cout << luu[i] + 1 << " ";

						y += 3;
						intd(x, y);
						for (int i = 0; i < sl2; i++)
						{
							xy(x, y);
							cout << luu[i] + 1;
							inmh(m[luu[i]], x, y);
							y++;
						}
						y = 1;
					}
					else
						cout << "Khong tim thay mon hoc co so gio tu hoc la " << so << " trong danh sanh!";
					stop = _getch();
				}
				sl2 = 0;
			} while (chon2 != 4);
			sl2 = 0;
		}
		sl2 = 0;
	} while (chon1 != 7);
}

//tim kiem binary
void tk_binary(monhoc m[], int sl, int& sx, int x, int y)
{
	int chon, so = 0, luu[10], sl2 = -1, tt = 0, d = 0, c = sl - 1, g;
	char chu[30] = "ko";

	if (sx == 0)
	{
		xy(xd + 20, yd + 10.5);
		cout << "Vui long sap xep danh sach truoc khi dung tim kiem binary!";
	}
	else
	{
		do {
			system("cls");
			inmn(mn_tk_bn, size(mn_tk_bn), xd, yd);
			cin >> chon;
			cin.ignore();

			if (chon == 7)
			{
				xy(xd + 3.25 * 10, yd + 12);
				cout << "Nhan phim bat ki de tiep tuc...";
				stop = _getch();
				break;
			}
			system("cls");

			switch (chon)
			{
			case 1:
				if ((sx != 1) && (sx != -1))
				{
					xy(xd + 20, yd + 10.5);
					cout << "Vui long sap xep danh sach theo MSMH!";
					tt = -1;
					stop = _getch();
					break;
				}

				cout << "nhap MSMH can tim: ";
				cin.getline(chu, 30);

				if (sx == 1)
				{
					while (d <= c)
					{
						if (tt == 1) break;
						else
						{
							g = (d + c) / 2;
							if (strcmp(chu, m[g].msmh) == 0)
								tt = 1;
							if (strcmp(chu, m[g].msmh) > 0)
								d = g + 1;
							else
								c = g - 1;
						}
					}
				}
				else
				{
					while (d <= c)
					{
						if (tt == 1) break;
						else
						{
							g = (d + c) / 2;
							if (strcmp(chu, m[g].msmh) == 0)
								tt = 1;
							if (strcmp(chu, m[g].msmh) > 0)
								c = g - 1;
							else
								d = g + 1;
						}
					}
				}
				
				break;
			case 2:
				if (sx != 2 && sx != -2)
				{
					xy(xd + 20, yd + 10.5);
					cout << "Vui long sap xep danh sach theo ten mon hoc!";
					tt = -1;
					stop = _getch();
					break;
				}

				cout << "nhap ten mon hoc can tim: ";
				cin.getline(chu, 30);

				if (sx == 2)
				{
					while (d <= c)
					{
						if (tt == 1) break;
						else
						{
							g = (d + c) / 2;
							if (strcmp(chu, m[g].ten) == 0)
								tt = 1;
							if (strcmp(chu, m[g].ten) > 0)
								d = g + 1;
							else
								c = g - 1;
						}
					}
				}
				else
				{
					while (d <= c)
					{
						if (tt == 1) break;
						else
						{
							g = (d + c) / 2;
							if (strcmp(chu, m[g].msmh) == 0)
								tt = 1;
							if (strcmp(chu, m[g].msmh) > 0)
								c = g - 1;
							else
								d = g + 1;
						}
					}
				}
				break;
			case 3:
				if (sx != 3 && sx != -3)
				{
					xy(xd + 20, yd + 10.5);
					cout << "Vui long sap xep danh sach theo so tin chi!";
					tt = -1;
					stop = _getch();
					break;
				}

				cout << "nhap so tin chi can tim: ";
				cin >> so;

				if (sx == 3)
				{
					while (d <= c)
					{
						if (tt == 1) break;
						else
						{
							g = (d + c) / 2;
							if (so == m[g].stc)
								tt = 1;
							if (so > m[g].stc)
								d = g + 1;
							else
								c = g - 1;
						}
					}
				}
				else
				{
					while (d <= c)
					{
						if (tt == 1) break;
						else
						{
							g = (d + c) / 2;
							if (so == m[g].stc)
								tt = 1;
							if (so > m[g].stc)
								c = g - 1;
							else
								d = g + 1;
						}
					}
				}
				
				break;
			case 4:
				if (sx != 4 && sx != -4)
				{
					xy(xd + 20, yd + 10.5);
					cout << "Vui long sap xep danh sach theo so gio ly thuyet!";
					tt = -1;
					stop = _getch();
					break;
				}

				cout << "nhap so gio ly thuyet can tim: ";
				cin >> so;

				if (sx == 4)
				{
					while (d <= c)
					{
						if (tt == 1) break;
						else
						{
							g = (d + c) / 2;
							if (so == m[g].lt)
								tt = 1;
							if (so > m[g].lt)
								d = g + 1;
							else
								c = g - 1;
						}
					}
				}
				else
				{
					while (d <= c)
					{
						if (tt == 1) break;
						else
						{
							g = (d + c) / 2;
							if (so == m[g].lt)
								tt = 1;
							if (so > m[g].lt)
								c = g - 1;
							else
								d = g + 1;
						}
					}
				}
				
				break;
			case 5:
				if (sx != 5 && sx != -5)
				{
					xy(xd + 20, yd + 10.5);
					cout << "Vui long sap xep danh sach theo so gio thuc hanh!";
					tt = -1;
					stop = _getch();
					break;
				}

				cout << "nhap so gio thu hanh can tim: ";
				cin >> so;

				if (sx == 5)
				{
					while (d <= c)
					{
						if (tt == 1) break;
						else
						{
							g = (d + c) / 2;
							if (so == m[g].th)
								tt = 1;
							if (so > m[g].th)
								d = g + 1;
							else
								c = g - 1;
						}
					}
				}
				else
				{
					while (d <= c)
					{
						if (tt == 1) break;
						else
						{
							g = (d + c) / 2;
							if (so == m[g].th)
								tt = 1;
							if (so > m[g].th)
								c = g - 1;
							else
								d = g + 1;
						}
					}
				}
				break;
			case 6:
				if (sx != 6 && sx != -6)
				{
					xy(xd + 20, yd + 10.5);
					cout << "Vui long sap xep danh sach theo so gio tu hoc!";
					tt = -1;
					stop = _getch();
					break;
				}

				cout << "nhap so gio tu hoc can tim: ";
				cin >> so;

				if (sx == 6)
				{
					while (d <= c)
					{
						if (tt == 1) break;
						else
						{
							g = (d + c) / 2;
							if (so == m[g].tuh)
								tt = 1;
							if (so > m[g].tuh)
								d = g + 1;
							else
								c = g - 1;
						}
					}
				}
				else
				{
					while (d <= c)
					{
						if (tt == 1) break;
						else
						{
							g = (d + c) / 2;
							if (so == m[g].tuh)
								tt = 1;
							if (so > m[g].tuh)
								c = g - 1;
							else
								d = g + 1;
						}
					}
				}
			}

			if (tt == 1)
			{
				if (sx >= -2 && sx <= 2 && sx != 0)
					cout << "Da tim thay " << chu << " trong danh sach tai vi tri " << g + 1;
				else
					cout << "Da tim thay " << so << " trong danh sach tai vi tri " << g + 1;
			}
			else if (tt = 0)
			{
				if (sx >= -2 && sx <= 2 && sx != 0)
					cout << "Khong tim thay " << chu << " trong danh sach";
				else
					cout << "Khong tim thay " << so << " trong danh sach";
			}

			d = 0, c = sl - 1, so = 0, tt = 0;
				
			stop = _getch();
		} while (chon != 7);
	}
}

//tim kiem
void tk(monhoc m[], int sl, int& sx)
{
	int so, chon;
	char yn;

	do {
		system("cls");
		inmn(mn_tk, size(mn_tk), xd, yd);
		cin >> chon;
		cin.ignore();
		if (chon == 3)
		{
			xy(xd + 3.25 * d, yd + 12);
			cout << "Nhan phim bat ki de tiep tuc...";
			break;
		}

		switch (chon)
		{
		case 1:
			system("cls");
			tk_liner(m, sl, xd, yd);
			stop = _getch();
			break;
		case 2:
			system("cls");
			tk_binary(m, sl, sx, xd, yd);
		}
	} while (chon != 3);
}

void swap(monhoc& m, monhoc& n)
{
	monhoc t = m;
	m = n;
	n = t;
}

//sap xep buble
void buble(monhoc m[], int sl, int sx)
{
	if (sx > 0)
		switch (sx)
		{
		case 1:
			for (int i = 0; i < sl; i++)
				for (int j = sl - 1; j > i; j--)
					if (strcmp(m[j].msmh, m[j - 1].msmh) < 0)
						swap(m[j], m[j - 1]);
			break;
		case 2:
			for (int i = 0; i < sl; i++)
				for (int j = sl - 1; j > i; j--)
					if (strcmp(m[j].ten, m[j - 1].ten) < 0)
						swap(m[j], m[j - 1]);
			break;
		case 3:
			for (int i = 0; i < sl; i++)
				for (int j = sl - 1; j > i; j--)
					if (m[j].stc < m[j - 1].stc)
						swap(m[j], m[j - 1]);
			break;
		case 4:
			for (int i = 0; i < sl; i++)
				for (int j = sl - 1; j > i; j--)
					if (m[j].lt < m[j - 1].lt)
						swap(m[j], m[j - 1]);
			break;
		case 5:
			for (int i = 0; i < sl; i++)
				for (int j = sl - 1; j > i; j--)
					if (m[j].th < m[j - 1].th)
						swap(m[j], m[j - 1]);
			break;
		case 6:
			for (int i = 0; i < sl; i++)
				for (int j = sl - 1; j > i; j--)
					if (m[j].tuh < m[j - 1].tuh)
						swap(m[j], m[j - 1]);
		}
	else
		switch (sx)
		{
		case -1:
			for (int i = 0; i < sl; i++)
				for (int j = sl - 1; j > i; j--)
					if (strcmp(m[j].msmh, m[j - 1].msmh) > 0)
						swap(m[j], m[j - 1]);
			break;
		case -2:
			for (int i = 0; i < sl; i++)
				for (int j = sl - 1; j > i; j--)
					if (strcmp(m[j].ten, m[j - 1].ten) > 0)
						swap(m[j], m[j - 1]);
			break;
		case -3:
			for (int i = 0; i < sl; i++)
				for (int j = sl - 1; j > i; j--)
					if (m[j].stc > m[j - 1].stc)
						swap(m[j], m[j - 1]);
			break;
		case -4:
			for (int i = 0; i < sl; i++)
				for (int j = sl - 1; j > i; j--)
					if (m[j].lt > m[j - 1].lt)
						swap(m[j], m[j - 1]);
			break;
		case -5:
			for (int i = 0; i < sl; i++)
				for (int j = sl - 1; j > i; j--)
					if (m[j].th > m[j - 1].th)
						swap(m[j], m[j - 1]);
			break;
		case -6:
			for (int i = 0; i < sl; i++)
				for (int j = sl - 1; j > i; j--)
					if (m[j].tuh > m[j - 1].tuh)
						swap(m[j], m[j - 1]);
		}
}

//sap xep shaker
void shaker(monhoc m[], int sl, int sx)
{
	int l = 0, r = sl - 1, k = sl - 1;

	if (sx > 0)
		switch (sx)
		{
		case 1:
			while (l < r)
			{
				for (int i = l; i < r; i++)
				{
					if (strcmp(m[i].msmh, m[i + 1].msmh) > 0)
					{
						swap(m[i], m[i + 1]);
						k = i;
					}
				}
				r = k;

				for (int i = r; i > l; i--)
				{
					if (strcmp(m[i].msmh, m[i - 1].msmh) < 0)
					{
						swap(m[i], m[i - 1]);
						k = i;
					}
				}
				l = k;
			}
			break;
		case 2:
			while (l < r)
			{
				for (int i = l; i < r; i++)
				{
					if (strcmp(m[i].ten, m[i + 1].ten) > 0)
					{
						swap(m[i], m[i + 1]);
						k = i;
					}
				}
				r = k;

				for (int i = r; i > l; i--)
				{
					if (strcmp(m[i].ten, m[i - 1].ten) < 0)
					{
						swap(m[i], m[i - 1]);
						k = i;
					}
				}
				l = k;
			}
			break;
		case 3:
			while (l < r)
			{
				for (int i = l; i < r; i++)
				{
					if (m[i].stc > m[i + 1].stc)
					{
						swap(m[i], m[i + 1]);
						k = i;
					}
				}
				r = k;

				for (int i = r; i > l; i--)
				{
					if (m[i].stc < m[i - 1].stc)
					{
						swap(m[i], m[i - 1]);
						k = i;
					}
				}
				l = k;
			}
			break;
		case 4:
			while (l < r)
			{
				for (int i = l; i < r; i++)
				{
					if (m[i].lt > m[i + 1].lt)
					{
						swap(m[i], m[i + 1]);
						k = i;
					}
				}
				r = k;

				for (int i = r; i > l; i--)
				{
					if (m[i].lt < m[i - 1].lt)
					{
						swap(m[i], m[i - 1]);
						k = i;
					}
				}
				l = k;
			}
			break;
		case 5:
			while (l < r)
			{
				for (int i = l; i < r; i++)
				{
					if (m[i].th > m[i + 1].th)
					{
						swap(m[i], m[i + 1]);
						k = i;
					}
				}
				r = k;

				for (int i = r; i > l; i--)
				{
					if (m[i].th < m[i - 1].th)
					{
						swap(m[i], m[i - 1]);
						k = i;
					}
				}
				l = k;
			}
			break;
		case 6:
			while (l < r)
			{
				for (int i = l; i < r; i++)
				{
					if (m[i].tuh > m[i + 1].tuh)
					{
						swap(m[i], m[i + 1]);
						k = i;
					}
				}
				r = k;

				for (int i = r; i > l; i--)
				{
					if (m[i].tuh < m[i - 1].tuh)
					{
						swap(m[i], m[i - 1]);
						k = i;
					}
				}
				l = k;
			}
		}
	else
		switch (sx)
		{
		case -1:
			while (l < r)
			{
				for (int i = l; i < r; i++)
				{
					if (strcmp(m[i].msmh, m[i + 1].msmh) < 0)
					{
						swap(m[i], m[i + 1]);
						k = i;
					}
				}
				r = k;

				for (int i = r; i > l; i--)
				{
					if (strcmp(m[i].msmh, m[i - 1].msmh) > 0)
					{
						swap(m[i], m[i - 1]);
						k = i;
					}
				}
				l = k;
			}
			break;
		case -2:
			while (l < r)
			{
				for (int i = l; i < r; i++)
				{
					if (strcmp(m[i].ten, m[i + 1].ten) < 0)
					{
						swap(m[i], m[i + 1]);
						k = i;
					}
				}
				r = k;

				for (int i = r; i > l; i--)
				{
					if (strcmp(m[i].ten, m[i - 1].ten) > 0)
					{
						swap(m[i], m[i - 1]);
						k = i;
					}
				}
				l = k;
			}
			break;
		case -3:
			while (l < r)
			{
				for (int i = l; i < r; i++)
				{
					if (m[i].stc < m[i + 1].stc)
					{
						swap(m[i], m[i + 1]);
						k = i;
					}
				}
				r = k;

				for (int i = r; i > l; i--)
				{
					if (m[i].stc > m[i - 1].stc)
					{
						swap(m[i], m[i - 1]);
						k = i;
					}
				}
				l = k;
			}
			break;
		case -4:
			while (l < r)
			{
				for (int i = l; i < r; i++)
				{
					if (m[i].lt < m[i + 1].lt)
					{
						swap(m[i], m[i + 1]);
						k = i;
					}
				}
				r = k;

				for (int i = r; i > l; i--)
				{
					if (m[i].lt > m[i - 1].lt)
					{
						swap(m[i], m[i - 1]);
						k = i;
					}
				}
				l = k;
			}
			break;
		case -5:
			while (l < r)
			{
				for (int i = l; i < r; i++)
				{
					if (m[i].th < m[i + 1].th)
					{
						swap(m[i], m[i + 1]);
						k = i;
					}
				}
				r = k;

				for (int i = r; i > l; i--)
				{
					if (m[i].th > m[i - 1].th)
					{
						swap(m[i], m[i - 1]);
						k = i;
					}
				}
				l = k;
			}
			break;
		case -6:
			while (l < r)
			{
				for (int i = l; i < r; i++)
				{
					if (m[i].tuh < m[i + 1].tuh)
					{
						swap(m[i], m[i + 1]);
						k = i;
					}
				}
				r = k;

				for (int i = r; i > l; i--)
				{
					if (m[i].tuh > m[i - 1].tuh)
					{
						swap(m[i], m[i - 1]);
						k = i;
					}
				}
				l = k;
			}
		}
}

//sap xep selection
void selection(monhoc m[], int sl, int sx)
{
	int min;

	if (sx > 0)
		switch (sx)
		{
		case 1:
			for (int i = 0; i < sl; i++)
			{
				min = i;
				for (int j = i; j < sl; j++)
				{
					if (strcmp(m[j].msmh, m[min].msmh) < 0)
						min = j;
				}
				swap(m[min], m[i]);
			}
			break;
		case 2:
			for (int i = 0; i < sl; i++)
			{
				min = i;
				for (int j = i; j < sl; j++)
				{
					if (strcmp(m[j].ten, m[min].ten) < 0)
						min = j;
				}
				swap(m[min], m[i]);
			}
			break;
		case 3:
			for (int i = 0; i < sl; i++)
			{
				min = i;
				for (int j = i; j < sl; j++)
				{
					if (m[j].stc < m[min].stc)
						min = j;
				}
				swap(m[min], m[i]);
			}
			break;
		case 4:
			for (int i = 0; i < sl; i++)
			{
				min = i;
				for (int j = i; j < sl; j++)
				{
					if (m[j].lt < m[min].lt)
						min = j;
				}
				swap(m[min], m[i]);
			}
			break;
		case 5:
			for (int i = 0; i < sl; i++)
			{
				min = i;
				for (int j = i; j < sl; j++)
				{
					if (m[j].th < m[min].th)
						min = j;
				}
				swap(m[min], m[i]);
			}
			break;
		case 6:
			for (int i = 0; i < sl; i++)
			{
				min = i;
				for (int j = i; j < sl; j++)
				{
					if (m[j].tuh < m[min].tuh)
						min = j;
				}
				swap(m[min], m[i]);
			}
		}
	else
		switch (sx)
		{
		case -1:
			for (int i = 0; i < sl; i++)
			{
				min = i;
				for (int j = i; j < sl; j++)
				{
					if (strcmp(m[j].msmh, m[min].msmh) > 0)
						min = j;
				}
				swap(m[min], m[i]);
			}
			break;
		case -2:
			for (int i = 0; i < sl; i++)
			{
				min = i;
				for (int j = i; j < sl; j++)
				{
					if (strcmp(m[j].ten, m[min].ten) > 0)
						min = j;
				}
				swap(m[min], m[i]);
			}
			break;
		case -3:
			for (int i = 0; i < sl; i++)
			{
				min = i;
				for (int j = i; j < sl; j++)
				{
					if (m[j].stc > m[min].stc)
						min = j;
				}
				swap(m[min], m[i]);
			}
			break;
		case -4:
			for (int i = 0; i < sl; i++)
			{
				min = i;
				for (int j = i; j < sl; j++)
				{
					if (m[j].lt > m[min].lt)
						min = j;
				}
				swap(m[min], m[i]);
			}
			break;
		case -5:
			for (int i = 0; i < sl; i++)
			{
				min = i;
				for (int j = i; j < sl; j++)
				{
					if (m[j].th > m[min].th)
						min = j;
				}
				swap(m[min], m[i]);
			}
			break;
		case -6:
			for (int i = 0; i < sl; i++)
			{
				min = i;
				for (int j = i; j < sl; j++)
				{
					if (m[j].tuh > m[min].tuh)
						min = j;
				}
				swap(m[min], m[i]);
			}
		}
}

//sap xep intersertion
void intersertion(monhoc m[], int sl, int sx)
{
	int j;
	monhoc x;

	if (sx > 0)
		switch (sx)
		{
		case 1:
			for (int i = 0; i < sl; i++)
			{
				j = i;
				x = m[i];
				while (j > 0 && (strcmp(x.msmh, m[j - 1].msmh) < 0))
				{
					m[j] = m[j - 1];
					j--;
				}
				m[j] = x;
			}
			break;
		case 2:
			for (int i = 0; i < sl; i++)
			{
				j = i;
				x = m[i];
				while (j > 0 && (strcmp(x.ten, m[j - 1].ten) < 0))
				{
					m[j] = m[j - 1];
					j--;
				}
				m[j] = x;
			}
			break;
		case 3:
			for (int i = 0; i < sl; i++)
			{
				j = i;
				x = m[i];
				while (j > 0 && x.stc < m[j - 1].stc)
				{
					m[j] = m[j - 1];
					j--;
				}
				m[j] = x;
			}
			break;
		case 4:
			for (int i = 0; i < sl; i++)
			{
				j = i;
				x = m[i];
				while (j > 0 && x.lt < m[j - 1].lt)
				{
					m[j] = m[j - 1];
					j--;
				}
				m[j] = x;
			}
			break;
		case 5:
			for (int i = 0; i < sl; i++)
			{
				j = i;
				x = m[i];
				while (j > 0 && x.th < m[j - 1].th)
				{
					m[j] = m[j - 1];
					j--;
				}
				m[j] = x;
			}
			break;
		case 6:
			for (int i = 0; i < sl; i++)
			{
				j = i;
				x = m[i];
				while (j > 0 && x.tuh < m[j - 1].tuh)
				{
					m[j] = m[j - 1];
					j--;
				}
				m[j] = x;
			}
		}
	else
		switch (sx)
		{
		case -1:
			for (int i = 0; i < sl; i++)
			{
				j = i;
				x = m[i];
				while (j > 0 && (strcmp(x.msmh, m[j - 1].msmh) > 0))
				{
					m[j] = m[j - 1];
					j--;
				}
				m[j] = x;
			}
			break;
		case -2:
			for (int i = 0; i < sl; i++)
			{
				j = i;
				x = m[i];
				while (j > 0 && (strcmp(x.ten, m[j - 1].ten) > 0))
				{
					m[j] = m[j - 1];
					j--;
				}
				m[j] = x;
			}
			break;
		case -3:
			for (int i = 0; i < sl; i++)
			{
				j = i;
				x = m[i];
				while (j > 0 && x.stc > m[j - 1].stc)
				{
					m[j] = m[j - 1];
					j--;
				}
				m[j] = x;
			}
			break;
		case -4:
			for (int i = 0; i < sl; i++)
			{
				j = i;
				x = m[i];
				while (j > 0 && x.lt > m[j - 1].lt)
				{
					m[j] = m[j - 1];
					j--;
				}
				m[j] = x;
			}
			break;
		case -5:
			for (int i = 0; i < sl; i++)
			{
				j = i;
				x = m[i];
				while (j > 0 && x.th > m[j - 1].th)
				{
					m[j] = m[j - 1];
					j--;
				}
				m[j] = x;
			}
			break;
		case -6:
			for (int i = 0; i < sl; i++)
			{
				j = i;
				x = m[i];
				while (j > 0 && x.tuh > m[j - 1].tuh)
				{
					m[j] = m[j - 1];
					j--;
				}
				m[j] = x;
			}
		}
}

//sap xep interchange
void interchange(monhoc m[], int sl, int sx)
{
	if (sx > 0)
		switch (sx)
		{
		case 1:
			for (int i = 0; i < sl; i++)
				for (int j = i; j < sl; j++)
					if (strcmp(m[i].msmh, m[j].msmh) > 0)
						swap(m[i], m[j]);
			break;
		case 2:
			for (int i = 0; i < sl; i++)
				for (int j = i; j < sl; j++)
					if (strcmp(m[i].ten, m[j].ten) > 0)
						swap(m[i], m[j]);
			break;
		case 3:
			for (int i = 0; i < sl; i++)
				for (int j = i; j < sl; j++)
					if (m[i].stc > m[j].stc)
						swap(m[i], m[j]);
			break;
		case 4:
			for (int i = 0; i < sl; i++)
				for (int j = i; j < sl; j++)
					if (m[i].lt > m[j].lt)
						swap(m[i], m[j]);
			break;
		case 5:
			for (int i = 0; i < sl; i++)
				for (int j = i; j < sl; j++)
					if (m[i].th > m[j].th)
						swap(m[i], m[j]);
			break;
		case 6:
			for (int i = 0; i < sl; i++)
				for (int j = i; j < sl; j++)
					if (m[i].tuh > m[j].tuh)
						swap(m[i], m[j]);
		}
	else
		switch (sx)
		{
		case -1:
			for (int i = 0; i < sl; i++)
				for (int j = i; j < sl; j++)
					if (strcmp(m[i].msmh, m[j].msmh) < 0)
						swap(m[i], m[j]);
			break;
		case -2:
			for (int i = 0; i < sl; i++)
				for (int j = i; j < sl; j++)
					if (strcmp(m[i].ten, m[j].ten) < 0)
						swap(m[i], m[j]);
			break;
		case -3:
			for (int i = 0; i < sl; i++)
				for (int j = i; j < sl; j++)
					if (m[i].stc < m[j].stc)
						swap(m[i], m[j]);
			break;
		case -4:
			for (int i = 0; i < sl; i++)
				for (int j = i; j < sl; j++)
					if (m[i].lt < m[j].lt)
						swap(m[i], m[j]);
			break;
		case -5:
			for (int i = 0; i < sl; i++)
				for (int j = i; j < sl; j++)
					if (m[i].th < m[j].th)
						swap(m[i], m[j]);
			break;
		case -6:
			for (int i = 0; i < sl; i++)
				for (int j = i; j < sl; j++)
					if (m[i].tuh < m[j].tuh)
						swap(m[i], m[j]);
		}
}

//sap xep 
void sapxep(monhoc m[], int sl, int& sx)
{
	int chon1, chon2, chon3;

	do {
		system("cls");
		inmn(mn_sx, size(mn_sx), xd, yd);
		cin >> chon1;
		if (chon1 == 6)
		{
			xy(xd + 3.25 * d, yd + 12);
			cout << "Nhan phim bat ki de tiep tuc...";
			stop = _getch();
			break;
		}
		do {
			system("cls");
			inmn(mn_sx2, size(mn_sx2), xd, yd);
			cin >> chon2;
			if (chon2 == 6)
			{
				xy(xd + 3.25 * d, yd + 12);
				cout << "Nhan phim bat ki de tiep tuc...";
				stop = _getch();
				break;
			}

			do {
				system("cls");
				inmn(mn_sx3, size(mn_sx3), xd, yd);
				cin >> chon3;
				if (chon3 == 3)
				{
					xy(xd + 3.25 * d, yd + 12);
					cout << "Nhan phim bat ki de tiep tuc...";
					stop = _getch();
					break;
				}

				sx = chon2;
				if (chon3 == 2)
					sx *= -1;

				switch (chon1)
				{
				case 1:
					buble(m, sl, sx);
					xy(xd + 1.5 * d, yd + 12);
					cout << "Da sap xep thanh cong! Nhan phim bat ki de tro lai man hinh chinh";
					stop = _getch();
					break;
				case 2:
					shaker(m, sl, sx);
					xy(xd + 1.5 * d, yd + 12);
					cout << "Da sap xep thanh cong! Nhan phim bat ki de tro lai man hinh chinh";
					stop = _getch();
					break;
				case 3:
					selection(m, sl, sx);
					xy(xd + 1.5 * d, yd + 12);
					cout << "Da sap xep thanh cong! Nhan phim bat ki de tro lai man hinh chinh";
					stop = _getch();
					break;
				case 4:
					intersertion(m, sl, sx);
					xy(xd + 1.5 * d, yd + 12);
					cout << "Da sap xep thanh cong! Nhan phim bat ki de tro lai man hinh chinh";
					stop = _getch();
					break;
				case 5:
					interchange(m, sl, sx);
					xy(xd + 1.5 * d, yd + 12);
					cout << "Da sap xep thanh cong! Nhan phim bat ki de tro lai man hinh chinh";
					stop = _getch();
				}
				break;
			} while (chon3 != 3);
			break;
		} while (chon2 != 7);
		break;
	} while (chon1 != 6);
}

//thong ke
void thongke(monhoc m[], int sl)
{
	int tong = 0, chon;

	do {
		system("cls");
		inmn(mn_thongke, size(mn_thongke), xd, yd);
		cin >> chon;
		cin.ignore();

		switch (chon)
		{
		case 1:
			system("cls");
			for (int i = 0; i < sl; i++)
				tong += m[i].stc;
			cout << "tong so tin chi trong danh sach la " << tong;
			stop = _getch();
			break;
		case 2:
			system("cls");
			for (int i = 0; i < sl; i++)
				tong += m[i].lt;
			cout << "tong so gio ly thuyet trong danh sach la " << tong;
			stop = _getch();
			break;
		case 3:
			system("cls");
			for (int i = 0; i < sl; i++)
				tong += m[i].th;
			cout << "tong so gio thuc hanh trong danh sach la " << tong;
			stop = _getch();
			break;
		case 4:
			system("cls");
			for (int i = 0; i < sl; i++)
				tong += m[i].tuh;
			cout << "tong so gio tu hoc trong danh sach la " << tong;
			stop = _getch();
		}
		if (chon == 5)
		{
			xy(xd + 3.4 * d, yd + 10.5);
			cout << "Nhan phim bat kÃ¬ de tiep tuc...";
		}
	} while (chon != 5);
}

//loc thong tin
void loc(monhoc m[], int sl)
{
	int chon1, chon2, so, tt, luu[100], sl2 = -1;

	do {
		system("cls");
		inmn(mn_loc1, size(mn_loc1), xd, yd);
		cin >> chon1;
		cin.ignore();
		if (chon1 == 5)break;
		do {
			system("cls");
			inmn(mn_loc2, size(mn_loc2), xd, yd);
			cin >> chon2;
			cin.ignore();
			if (chon2 == 3)break;

			switch (chon1)
			{
			case 1:
				system("cls");
				cout << "Nhap so tin chi: ";
				cin >> so;

				if (chon2 == 1)
				{
					for (int i = 0; i < sl; i++)
					{
						if (m[i].stc >= so)
						{
							sl2++;
							luu[sl2 - 1] = i;
							tt = 1;
						}
					}
				}
				else
				{
					for (int i = 0; i < sl; i++)
					{
						if (m[i].stc <= so)
						{
							sl2++;
							luu[sl2 - 1] = i;
							tt = 1;
						}
					}
				}

				if (tt == 1)
				{
					yd += 2;
					intd(xd, yd);
					for (int i = 0; i < sl2; i++)
					{
						xy(xd, yd);
						cout << luu[i] + 1;
						inmh(m[luu[i]], xd, yd);
						yd++;
					}
					yd = 1;
				}
				else
					cout << "Khong tim thay trong danh sanh!";
				stop = _getch();
				break;
			case 2:
				system("cls");
				cout << "Nhap so gio ly thuyet: ";
				cin >> so;

				if (chon2 == 1)
				{
					for (int i = 0; i < sl; i++)
					{
						if (m[i].lt >= so)
						{
							sl2++;
							luu[sl2 - 1] = i;
							tt = 1;
						}
					}
				}
				else
				{
					for (int i = 0; i < sl; i++)
					{
						if (m[i].lt <= so)
						{
							sl2++;
							luu[sl2 - 1] = i;
							tt = 1;
						}
					}
				}

				if (tt == 1)
				{
					yd += 2;
					intd(xd, yd);
					for (int i = 0; i < sl2; i++)
					{
						xy(xd, yd);
						cout << luu[i] + 1;
						inmh(m[luu[i]], xd, yd);
						yd++;
					}
					yd = 1;
				}
				else
					cout << "Khong tim thay trong danh sanh!";
				stop = _getch();
				break;
			case 3:
				system("cls");
				cout << "Nhap so gio thuc hanh: ";
				cin >> so;

				if (chon2 == 1)
				{
					for (int i = 0; i < sl; i++)
					{
						if (m[i].th >= so)
						{
							sl2++;
							luu[sl2 - 1] = i;
							tt = 1;
						}
					}
				}
				else
				{
					for (int i = 0; i < sl; i++)
					{
						if (m[i].th <= so)
						{
							sl2++;
							luu[sl2 - 1] = i;
							tt = 1;
						}
					}
				}

				if (tt == 1)
				{
					yd += 2;
					intd(xd, yd);
					for (int i = 0; i < sl2; i++)
					{
						xy(xd, yd);
						cout << luu[i] + 1;
						inmh(m[luu[i]], xd, yd);
						yd++;
					}
					yd = 1;
				}
				else
					cout << "Khong tim thay trong danh sanh!";
				stop = _getch();
				break;
			case 4:
				system("cls");
				cout << "Nhap so gio tu hoc: ";
				cin >> so;

				if (chon2 == 1)
				{
					for (int i = 0; i < sl; i++)
					{
						if (m[i].tuh >= so)
						{
							sl2++;
							luu[sl2 - 1] = i;
							tt = 1;
						}
					}
				}
				else
				{
					for (int i = 0; i < sl; i++)
					{
						if (m[i].tuh <= so)
						{
							sl2++;
							luu[sl2 - 1] = i;
							tt = 1;
						}
					}
				}

				if (tt == 1)
				{
					yd += 2;
					intd(xd, yd);
					for (int i = 0; i < sl2; i++)
					{
						xy(xd, yd);
						cout << luu[i] + 1;
						inmh(m[luu[i]], xd, yd);
						yd++;
					}
					yd = 1;
				}
				else
					cout << "Khong tim thay trong danh sanh!";
				stop = _getch();
			}
			tt = 0, sl2 = -1;
		} while (chon2 != 3);
	} while (chon1 != 5);
}

int main()
{
	monhoc ds[100];
	string filein = "thong_tin_mon_hoc.txt";
	int sl, chon1, chon2, sx = 0;

	xy(xd + 1.5 * d, yd + 10.5);
	cout << "Vui long chinh co chu len 36 de co trai nghiem tot nhat! Xin cam on";
	xy(xd + 2.9 * d, yd + 11.5);
	cout << "Nhan phim bat ki de bat dau chuong trinh";
	stop = _getch();
	system("cls");

	if (readfile(filein, ds, sl) == 1)
	{
		xy(xd + 3.5 * d, yd + 10.5);
		cout << "Khong doc duoc file!";
		stop = _getch();
	}

	do {
		system("cls");
		inmn(mn, size(mn), xd, yd);
		cin >> chon1;
		cin.ignore();
		switch (chon1)
		{
		case 1:
			system("cls");
			inds(ds, sl, xd, yd);
			stop = _getch();
			break;
		case 2:
			system("cls");
			them(ds, sl, sx);
			stop = _getch();
			break;
		case 3:
			system("cls");
			xoa(ds, sl);
			stop = _getch();
			break;
		case 4:
			system("cls");
			cn(ds, sl);
			stop = _getch();
			break;
		case 5:
			system("cls");
			tk(ds, sl, sx);
			stop = _getch();
			break;
		case 6:
			system("cls");
			sapxep(ds, sl, sx);
			break;
		case 7:
			system("cls");
			thongke(ds, sl);
			stop = _getch();
			break;
		case 8:
			system("cls");
			loc(ds, sl);
			stop = _getch();
		}
	} while (chon1 != 9);

	system("cls");
	xy(xd + 3.4 * d, yd + 10.5);
	cout << "Cam on da su dung chuong trinh! (^w^)";

	stop = _getch();
	return 0;
}	
